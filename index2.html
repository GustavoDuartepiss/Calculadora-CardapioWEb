<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Planos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              roxo: {
                500: '#5B2EFF',
                600: '#8B5CF6',
                700: '#9D4EDD'
              },
              fundoClaro: '#F8F7FC',
              fundoEscuro: '#0F0F15',
              cardEscuro: '#1A1825',
              textoClaro: '#EDEDED'
            }
          }
        }
      }
    </script>
    <style>
        :root {
            --color-card: #F8F7FC;
            --color-background: #f8fafc;
        }
        :root[data-theme="dark"] {
            --color-card: #1A1825;
            --color-background: #0F0F15;
        }
        body {
            background: var(--color-background);
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        .card {
            background: var(--color-card);
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .select-field, .input-field {
            border: 2px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .select-field:focus, .input-field:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .btn {
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 0.5rem;
            padding: 0.5rem 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #2563eb;
        }
        
        .badge {
            background: #dbeafe;
            color: #1e40af;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .checkbox {
            width: 1rem;
            height: 1rem;
            margin-right: 0.5rem;
        }
        .dark body { 
           background: radial-gradient(circle at top right, #1A1625 0%, #0F0F15 70%); 
         } 
         
         .dark .card { 
           background: linear-gradient(145deg, #1E1B29 0%, #151320 100%); 
           box-shadow: 0 0 20px rgba(91, 46, 255, 0.2); 
           border: 1px solid rgba(255, 255, 255, 0.05); 
           transition: all 0.3s ease; 
         }
        * { 
           transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease; 
         }
    </style>
</head>
<body class="text-black dark:text-textoClaro transition-colors duration-300 min-h-screen p-[1rem] md:p-[2rem] overflow-x-hidden">
    <div class="max-w-full mx-auto px-[2vw]">
        <div class="text-center mb-8 relative">
            <h1 class="text-3xl font-bold text-gray-800 dark:text-textoClaro mb-2">üßÆ Calculadora de Planos</h1>
            <p class="text-gray-600 dark:text-gray-300">Configure seu plano e m√≥dulos adicionais</p>
            
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Sele√ß√£o de Plano -->
            <div class="card bg-white dark:bg-cardEscuro text-black dark:text-textoClaro border border-gray-200 dark:border-[rgba(255,255,255,0.15)] rounded-2xl shadow-md dark:shadow-[0_0_20px_rgba(91,46,255,0.3)]">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üìã Selecionar Plano</h2>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Plano:</label>
                    <select id="planType" class="select-field" onchange="updateCalculation()">
                        <option value="">Selecione um plano</option>
                        <option value="delivery">Delivery</option>
                        <option value="mesas">Mesas</option>
                        <option value="premium">Premium</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Per√≠odo:</label>
                    <select id="planPeriod" class="select-field" onchange="updateCalculation()">
                        <option value="">Selecione um per√≠odo</option>
                        <option value="mensal">Mensal</option>
                        <option value="trimestral">Trimestral</option>
                        <option value="semestral">Semestral</option>
                        <option value="anual">Anual</option>
                    </select>
                </div>
                
                <div id="planDetails" class="hidden">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="font-semibold text-blue-800 mb-2">Detalhes do Plano</h3>
                        <div class="space-y-1 text-sm">
                            <div class="flex justify-between">
                                <span>Valor Total:</span>
                                <span id="planTotal" class="font-semibold">R$ 0,00</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Valor Mensal:</span>
                                <span id="planMonthly" class="font-semibold">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- M√≥dulos Adicionais -->
            <div class="card bg-white dark:bg-cardEscuro text-black dark:text-textoClaro border border-gray-200 dark:border-[rgba(255,255,255,0.15)] rounded-2xl shadow-md dark:shadow-[0_0_20px_rgba(91,46,255,0.3)]">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üîß M√≥dulos Adicionais</h2>
                
                <div class="grid md:grid-cols-2 gap-2">
                    <div class="flex items-center">
                        <input type="checkbox" id="moduloIfood" class="checkbox" onchange="updateCalculation()">
                        <label for="moduloIfood" class="text-sm">Integra√ß√£o com Ifood - R$ 19,90/m√™s</label>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="moduloEstoque" class="checkbox" onchange="updateCalculation()">
                        <label for="moduloEstoque" class="text-sm">Controle de Estoque Completo - R$ 19,90/m√™s</label>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="moduloRoteirizacao" class="checkbox" onchange="updateCalculation()">
                        <label for="moduloRoteirizacao" class="text-sm">Roteiriza√ß√£o de entregas - R$ 49,90/m√™s</label>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="moduloFiscal" class="checkbox" onchange="updateCalculation()">
                        <label for="moduloFiscal" class="text-sm">Emiss√£o de Cupom Fiscal - R$ 59,90/m√™s</label>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="moduloFinanceiro" class="checkbox" onchange="updateCalculation()">
                        <label for="moduloFinanceiro" class="text-sm">M√≥dulo Financeiro - R$ 49,90/m√™s</label>
                    </div>
                </div>
            </div>
            
            <!-- Desconto -->
            <div class="card bg-white dark:bg-cardEscuro text-black dark:text-textoClaro border border-gray-200 dark:border-[rgba(255,255,255,0.15)] rounded-2xl shadow-md dark:shadow-[0_0_20px_rgba(91,46,255,0.3)]">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üí∞ Desconto</h2>
                
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Desconto (%):</label>
                    <input type="number" id="discount" class="input-field" placeholder="0" min="0" max="100" onchange="updateCalculation()">
                </div>
            </div>
            
            <!-- Resumo Final -->
            <div class="card bg-white dark:bg-cardEscuro text-black dark:text-textoClaro border border-gray-200 dark:border-[rgba(255,255,255,0.15)] rounded-2xl shadow-md dark:shadow-[0_0_20px_rgba(91,46,255,0.3)]">
                <h2 class="text-xl font-bold text-gray-800 mb-4">üìä Resumo Final</h2>
                
                <div class="grid md:grid-cols-2 gap-2">
                    <div class="flex justify-between items-center py-2 border-b">
                        <span class="text-gray-600">Plano Base (Mensal):</span>
                        <span id="summaryPlanMonthly" class="font-semibold">R$ 0,00</span>
                    </div>
                    
                    <div class="flex justify-between items-center py-2 border-b">
                        <span class="text-gray-600">M√≥dulos (Mensal):</span>
                        <span id="summaryModulesMonthly" class="font-semibold">R$ 0,00</span>
                    </div>
                    
                    <div class="flex justify-between items-center py-2 border-b">
                        <span class="text-gray-600">Subtotal (Mensal):</span>
                        <span id="summarySubtotalMonthly" class="font-semibold">R$ 0,00</span>
                    </div>
                    
                    <div class="flex justify-between items-center py-2 border-b">
                        <span class="text-gray-600">Desconto:</span>
                        <span id="summaryDiscount" class="font-semibold text-red-600">- R$ 0,00</span>
                    </div>
                    
                    <div class="flex justify-between items-center py-3 bg-green-50 px-4 rounded-lg">
                        <span class="text-lg font-bold text-green-800">Total Mensal:</span>
                        <span id="summaryTotalMonthly" class="text-xl font-bold text-green-600">R$ 0,00</span>
                    </div>
                    
                    <div class="flex justify-between items-center py-3 bg-blue-50 px-4 rounded-lg">
                        <span class="text-lg font-bold text-blue-800">Total do Per√≠odo:</span>
                        <span id="summaryTotalPeriod" class="text-xl font-bold text-blue-600">R$ 0,00</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const planos = {
            delivery: {
                mensal: { total: 179.99, mensal: 179.99 },
                trimestral: { total: 495.00, mensal: 165.00 },
                semestral: { total: 930.00, mensal: 155.00 },
                anual: { total: 1740.00, mensal: 145.00 }
            },
            mesas: {
                mensal: { total: 159.99, mensal: 159.99 },
                trimestral: { total: 450.00, mensal: 150.00 },
                semestral: { total: 870.00, mensal: 145.00 },
                anual: { total: 1620.00, mensal: 135.00 }
            },
            premium: {
                mensal: { total: 219.99, mensal: 219.99 },
                trimestral: { total: 615.00, mensal: 205.00 },
                semestral: { total: 1170.00, mensal: 195.00 },
                anual: { total: 2220.00, mensal: 185.00 }
            }
        };
        
        const modules = {
            moduloIfood: { name: "Integra√ß√£o com Ifood", value: 19.90 },
            moduloEstoque: { name: "Controle de Estoque Completo", value: 19.90 },
            moduloRoteirizacao: { name: "Roteiriza√ß√£o de entregas", value: 49.90 },
            moduloFiscal: { name: "Emiss√£o de Cupom Fiscal", value: 59.90 },
            moduloFinanceiro: { name: "M√≥dulo Financeiro", value: 49.90 }
        };
        
        function formatCurrency(value) {
            return new Intl.NumberFormat('pt-BR', {
                style: 'currency',
                currency: 'BRL'
            }).format(value);
        }
        
        function getPeriodMultiplier(period) {
            switch(period) {
                case 'mensal': return 1;
                case 'trimestral': return 3;
                case 'semestral': return 6;
                case 'anual': return 12;
                default: return 1;
            }
        }
        
        function updateCalculation() {
            const planType = document.getElementById('planType').value;
            const planPeriod = document.getElementById('planPeriod').value;
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            
            // Mostrar/ocultar detalhes do plano
            const planDetails = document.getElementById('planDetails');
            if (planType && planPeriod) {
                planDetails.classList.remove('hidden');
                const plan = planos[planType][planPeriod];
                document.getElementById('planTotal').textContent = formatCurrency(plan.total);
                document.getElementById('planMonthly').textContent = formatCurrency(plan.mensal);
            } else {
                planDetails.classList.add('hidden');
            }
            
            // Calcular valores
            let planMonthly = 0;
            let planTotal = 0;
            
            if (planType && planPeriod) {
                const plan = planos[planType][planPeriod];
                planMonthly = plan.mensal;
                planTotal = plan.total;
            }
            
            // Calcular m√≥dulos
            let modulesMonthly = 0;
            Object.keys(modules).forEach(moduleId => {
                const checkbox = document.getElementById(moduleId);
                if (checkbox.checked) {
                    modulesMonthly += modules[moduleId].value;
                }
            });
            
            // Calcular subtotais
            const subtotalMonthly = planMonthly + modulesMonthly;
            const discountAmount = (subtotalMonthly * discount) / 100;
            const totalMonthly = subtotalMonthly - discountAmount;
            
            const periodMultiplier = getPeriodMultiplier(planPeriod);
            const totalPeriod = totalMonthly * periodMultiplier;
            
            // Atualizar resumo
            document.getElementById('summaryPlanMonthly').textContent = formatCurrency(planMonthly);
            document.getElementById('summaryModulesMonthly').textContent = formatCurrency(modulesMonthly);
            document.getElementById('summarySubtotalMonthly').textContent = formatCurrency(subtotalMonthly);
            document.getElementById('summaryDiscount').textContent = '- ' + formatCurrency(discountAmount);
            document.getElementById('summaryTotalMonthly').textContent = formatCurrency(totalMonthly);
            document.getElementById('summaryTotalPeriod').textContent = formatCurrency(totalPeriod);
        }
        
        // Inicializar
        updateCalculation();
    </script>
    <!-- Tema escuro/ claro toggle -->
    <script>
    (function(){
      const root = document.documentElement;
      const icon = document.getElementById('theme-icon');
      const label = document.getElementById('theme-label');
      const applyLight = () => {
        root.removeAttribute('data-theme');
        root.classList.remove('dark');
        if (icon) icon.textContent = '‚òÄÔ∏è';
        if (label) label.textContent = 'Modo Claro';
        try { localStorage.removeItem('theme'); } catch(e) {}
      };
      applyLight();
      window.toggleTheme = function(){ applyLight(); };
    })();
    </script>
</body>
</html>